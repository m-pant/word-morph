# Word Morph API

–í–µ–±-—Å–µ—Ä–≤–∏—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏ –±–ª–∏–∑–∫–∏—Ö —Å–ª–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π.

**–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç:**
- üöÄ REST API –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å–ª–æ–≤ (–ø–æ—Ä—Ç 8081)
- üîå MCP (Model Context Protocol) —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Claude –∏ n8n (–ø–æ—Ä—Ç 8082)

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –ü–æ–∏—Å–∫ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏ –±–ª–∏–∑–∫–∏—Ö —Å–ª–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ Navec
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —á–∞—Å—Ç–∏ —Ä–µ—á–∏ (—Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ, –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ, –≥–ª–∞–≥–æ–ª—ã –∏ –¥—Ä.)
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Å–ª–æ–≤ –∫ –Ω–∞—á–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º–µ (–∏–º–µ–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞)
- –†–∞–∑–ª–∏—á–Ω—ã–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞:
  - –ü–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ –±—É–∫–≤
  - –ü—Ä–æ–ø—É—Å–∫ –±—É–∫–≤ (—Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–∞–∫ `_`)
  - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω—ã—Ö –æ—à–∏–±–æ–∫
- –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π:
  - –†–∞–±–æ—Ç–∞ —Ç–æ–ª—å–∫–æ —Å –≥–ª–∞—Å–Ω—ã–º–∏ –∏–ª–∏ —Å–æ–≥–ª–∞—Å–Ω—ã–º–∏ –±—É–∫–≤–∞–º–∏
  - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–π/–ø–æ—Å–ª–µ–¥–Ω–µ–π –±—É–∫–≤—ã
- REST API –Ω–∞ –±–∞–∑–µ FastAPI
- MCP (Model Context Protocol) –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è Claude Desktop –∏ n8n
- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è —Å Docker

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- Python 3.9+
- FastAPI (–æ—Å–Ω–æ–≤–Ω–æ–π REST API)
- Navec (—Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–µ word embeddings ~500K —Å–ª–æ–≤)
- pymorphy2 (–º–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞)
- MCP (Model Context Protocol) - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Claude –∏ n8n
- Docker & Docker Compose

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker
- Docker Compose

### –ó–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone <repository-url>
cd word-morph
```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å—ã —Å –ø–æ–º–æ—â—å—é Docker Compose:
```bash
docker-compose up --build
```

–≠—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç –¥–≤–∞ —Å–µ—Ä–≤–∏—Å–∞:
- **Word Morph API** –Ω–∞ –ø–æ—Ä—Ç—É 8081 (–æ—Å–Ω–æ–≤–Ω–æ–π REST API)
- **MCP HTTP Server** –Ω–∞ –ø–æ—Ä—Ç—É 8082 (–¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å n8n –∏ –¥—Ä—É–≥–∏–º–∏ MCP –∫–ª–∏–µ–Ω—Ç–∞–º–∏)

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å:
```bash
# –û—Å–Ω–æ–≤–Ω–æ–π API
curl http://localhost:8081/health
# –û—Ç–≤–µ—Ç: {"status":"healthy"}

# MCP HTTP —Å–µ—Ä–≤–µ—Ä
curl http://localhost:8082/health
# –û—Ç–≤–µ—Ç: {"status":"healthy","service":"word-morph-mcp-http"}

# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω—ã: word-morph-api –∏ word-morph-mcp
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä—Ç–æ–≤

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–µ—Ä–≤–∏—Å—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ—Ä—Ç—ã:
- **8081** - –æ—Å–Ω–æ–≤–Ω–æ–π REST API
- **8082** - MCP HTTP —Å–µ—Ä–≤–µ—Ä

–ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—Ç—ã, —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```bash
PORT=9000          # –û—Å–Ω–æ–≤–Ω–æ–π API
MCP_HTTP_PORT=9082 # MCP HTTP —Å–µ—Ä–≤–µ—Ä
```

–ò–ª–∏ –∑–∞–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ:

```bash
PORT=9000 MCP_HTTP_PORT=9082 docker-compose up
```

### –í–∞–∂–Ω–æ: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–∏—Ä–∏–ª–ª–∏—Ü—ã –≤ URL

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –∫–∏—Ä–∏–ª–ª–∏—á–µ—Å–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –≤ curl –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ URL-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ:

```bash
# –ü—Ä–∞–≤–∏–ª—å–Ω–æ - —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
curl -G "http://localhost:8081/api/words" \
  --data-urlencode "word=–º–µ–±–µ–ª—å" \
  --data-urlencode "count=3"

# –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –ø—Ä–∏–≤–µ–¥–µ—Ç –∫ –æ—à–∏–±–∫–µ "Invalid HTTP request"
curl "http://localhost:8081/api/words?word=–º–µ–±–µ–ª—å&count=3"
```

## API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### Endpoints

#### GET /health
Health check endpoint –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞.

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "healthy"
}
```

#### GET /api/words
–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏ –±–ª–∏–∑–∫–∏—Ö —Å–ª–æ–≤ —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|--------------|----------|
| `word` | string | –î–∞ | - | –ò—Å—Ö–æ–¥–Ω–æ–µ —Å–ª–æ–≤–æ –¥–ª—è –ø–æ–∏—Å–∫–∞ |
| `count` | integer | –ù–µ—Ç | 10 | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö —Å–ª–æ–≤ (1-100) |
| `stride` | integer | –ù–µ—Ç | 0 | –®–∞–≥ –≤—ã–±–æ—Ä–∫–∏ —Å–ª–æ–≤ (0=–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, 1=—á–µ—Ä–µ–∑ –æ–¥–Ω–æ, 2=—á–µ—Ä–µ–∑ –¥–≤–∞) |
| `random_mode` | boolean | –ù–µ—Ç | false | –í–µ—Ä–Ω—É—Ç—å —Å–ª—É—á–∞–π–Ω—ã–µ —Å–ª–æ–≤–∞ –≤–º–µ—Å—Ç–æ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏ –±–ª–∏–∑–∫–∏—Ö |
| `similarity_threshold` | float | –ù–µ—Ç | 0.0 | –ü–æ—Ä–æ–≥ —Ç–µ–∫—Å—Ç–æ–≤–æ–π —Å—Ö–æ–∂–µ—Å—Ç–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ—Ö–æ–∂–∏—Ö —Å–ª–æ–≤ (0.0-1.0) |
| `pos_filter` | string | –ù–µ—Ç | - | –§–∏–ª—å—Ç—Ä –ø–æ —á–∞—Å—Ç–∏ —Ä–µ—á–∏ (noun, verb, adjective –∏ –¥—Ä.) |
| `normalize` | boolean | –ù–µ—Ç | false | –ü—Ä–∏–≤–µ—Å—Ç–∏ —Å–ª–æ–≤–∞ –∫ –Ω–∞—á–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º–µ (–∏–º–µ–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ –µ–¥.—á.) |
| `shuffle_letters` | boolean | –ù–µ—Ç | false | –ü–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ –±—É–∫–≤ –≤ —Å–ª–æ–≤–∞—Ö |
| `skip_letters` | integer | –ù–µ—Ç | 0 | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±—É–∫–≤ –¥–ª—è –ø—Ä–æ–ø—É—Å–∫–∞ |
| `show_skipped` | boolean | –ù–µ—Ç | false | –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –±—É–∫–≤—ã –∫–∞–∫ `_` |
| `add_errors` | boolean | –ù–µ—Ç | false | –î–æ–±–∞–≤–ª—è—Ç—å —Å–ª—É—á–∞–π–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤ —Å–ª–æ–≤–∞ |
| `letter_type` | string | –ù–µ—Ç | all | –¢–∏–ø –±—É–∫–≤: `all`, `vowels`, `consonants` |
| `preserve_first` | boolean | –ù–µ—Ç | false | –ù–µ —Ç—Ä–æ–≥–∞—Ç—å –ø–µ—Ä–≤—É—é –±—É–∫–≤—É |
| `preserve_last` | boolean | –ù–µ—Ç | false | –ù–µ —Ç—Ä–æ–≥–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –±—É–∫–≤—É |

**–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:**

1. **–ë–∞–∑–æ–≤—ã–π –ø–æ–∏—Å–∫:**
```bash
curl -G "http://localhost:8081/api/words" \
  --data-urlencode "word=–º–µ–±–µ–ª—å" \
  --data-urlencode "count=3"
```

–û—Ç–≤–µ—Ç:
```json
{
  "status": "success",
  "query": {
    "word": "–º–µ–±–µ–ª—å",
    "count": 3,
    "transformations": {
      "shuffle_letters": false,
      "skip_letters": 0,
      "show_skipped": false,
      "add_errors": false,
      "letter_type": "all",
      "preserve_first": false,
      "preserve_last": false
    }
  },
  "results": ["–∫–æ–≤—Ä—ã", "–º–µ–±–µ–ª–∏", "—Å—Ç—É–ª—å—è"]
}
```

2. **–ü–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ –±—É–∫–≤:**
```bash
curl -G "http://localhost:8081/api/words" \
  --data-urlencode "word=–≥—Ä–æ–∑–∞" \
  --data-urlencode "count=5" \
  --data-urlencode "shuffle_letters=true"
```

3. **–ü—Ä–æ–ø—É—Å–∫ –±—É–∫–≤ —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º:**
```bash
curl -G "http://localhost:8081/api/words" \
  --data-urlencode "word=–≥—Ä–æ–∑–∞" \
  --data-urlencode "count=5" \
  --data-urlencode "skip_letters=1" \
  --data-urlencode "show_skipped=true"
```

4. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ —Ç–æ–ª—å–∫–æ –≤ —Å–æ–≥–ª–∞—Å–Ω—ã–µ:**
```bash
curl -G "http://localhost:8081/api/words" \
  --data-urlencode "word=–ø–æ–≥–æ–¥–∞" \
  --data-urlencode "count=5" \
  --data-urlencode "add_errors=true" \
  --data-urlencode "letter_type=consonants" \
  --data-urlencode "preserve_first=true"
```

5. **–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è:**
```bash
curl -G "http://localhost:8081/api/words" \
  --data-urlencode "word=–ø—Ä–∏—Ä–æ–¥–∞" \
  --data-urlencode "count=5" \
  --data-urlencode "shuffle_letters=true" \
  --data-urlencode "letter_type=vowels" \
  --data-urlencode "preserve_first=true" \
  --data-urlencode "preserve_last=true"
```

6. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ stride –¥–ª—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è:**
```bash
curl -G "http://localhost:8081/api/words" \
  --data-urlencode "word=–≤–æ–∑–¥—É—Ö" \
  --data-urlencode "count=10" \
  --data-urlencode "stride=2"
```

7. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ—Ö–æ–∂–∏—Ö —Å–ª–æ–≤:**
```bash
curl -G "http://localhost:8081/api/words" \
  --data-urlencode "word=–ø—Ä–∏—Ä–æ–¥–∞" \
  --data-urlencode "count=10" \
  --data-urlencode "similarity_threshold=0.6"
```

8. **–°–ª—É—á–∞–π–Ω—ã–µ —Å–ª–æ–≤–∞ –∏–∑ —Å–ª–æ–≤–∞—Ä—è:**
```bash
curl -G "http://localhost:8081/api/words" \
  --data-urlencode "word=–ª—é–±–æ–µ" \
  --data-urlencode "count=10" \
  --data-urlencode "random_mode=true"
```

9. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —á–∞—Å—Ç–∏ —Ä–µ—á–∏ (—Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ):**
```bash
curl -G "http://localhost:8081/api/words" \
  --data-urlencode "word=—Å—Ç—É–ª" \
  --data-urlencode "count=10" \
  --data-urlencode "pos_filter=noun"
```

10. **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫ –Ω–∞—á–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º–µ:**
```bash
curl -G "http://localhost:8081/api/words" \
  --data-urlencode "word=—Å—Ç—É–ª" \
  --data-urlencode "count=10" \
  --data-urlencode "pos_filter=noun" \
  --data-urlencode "normalize=true"
```

**–ö–æ–¥—ã –æ—Ç–≤–µ—Ç–æ–≤:**

- `200 OK` - –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å
- `400 Bad Request` - –ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- `404 Not Found` - –°–ª–æ–≤–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤ —Å–ª–æ–≤–∞—Ä–µ
- `500 Internal Server Error` - –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

**–ü—Ä–∏–º–µ—Ä—ã –æ—à–∏–±–æ–∫:**

–°–ª–æ–≤–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ (404):
```json
{
  "status": "error",
  "error": "word_not_found",
  "message": "–°–ª–æ–≤–æ '–∞–±–≤–≥–¥–µ–π–∫–∞' –Ω–µ –Ω–∞–π–¥–µ–Ω–æ –≤ —Å–ª–æ–≤–∞—Ä–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤"
}
```

–ù–µ–≤–∞–ª–∏–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (400):
```json
{
  "status": "error",
  "error": "invalid_parameters",
  "message": "–ü–∞—Ä–∞–º–µ—Ç—Ä 'count' –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º —á–∏—Å–ª–æ–º"
}
```

## –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–∏—Å–∫–∞

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —á–∞—Å—Ç–∏ —Ä–µ—á–∏ (pos_filter)
–ü–∞—Ä–∞–º–µ—Ç—Ä `pos_filter` –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–ª–æ–≤–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π —á–∞—Å—Ç–∏ —Ä–µ—á–∏, –∏—Å–ø–æ–ª—å–∑—É—è –º–æ—Ä—Ñ–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ pymorphy2.

**–î–æ—Å—Ç—É–ø–Ω—ã–µ —á–∞—Å—Ç–∏ —Ä–µ—á–∏:**

**–û—Å–Ω–æ–≤–Ω—ã–µ:**
- `noun` - —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ
- `verb` - –≥–ª–∞–≥–æ–ª—ã (–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º—ã)
- `infn` - –≥–ª–∞–≥–æ–ª—ã (–∏–Ω—Ñ–∏–Ω–∏—Ç–∏–≤)
- `adjf` - –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ (–ø–æ–ª–Ω—ã–µ)
- `adjs` - –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ (–∫—Ä–∞—Ç–∫–∏–µ)
- `advb` - –Ω–∞—Ä–µ—á–∏—è
- `numr` - —á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ
- `npro` - –º–µ—Å—Ç–æ–∏–º–µ–Ω–∏—è-—Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ
- `prtf` - –ø—Ä–∏—á–∞—Å—Ç–∏—è (–ø–æ–ª–Ω—ã–µ)
- `prts` - –ø—Ä–∏—á–∞—Å—Ç–∏—è (–∫—Ä–∞—Ç–∫–∏–µ)
- `grnd` - –¥–µ–µ–ø—Ä–∏—á–∞—Å—Ç–∏—è

**–£–¥–æ–±–Ω—ã–µ –≥—Ä—É–ø–ø—ã:**
- `adjective` - –≤—Å–µ –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ (–ø–æ–ª–Ω—ã–µ + –∫—Ä–∞—Ç–∫–∏–µ)
- `verb_all` - –≤—Å–µ –≥–ª–∞–≥–æ–ª—å–Ω—ã–µ —Ñ–æ—Ä–º—ã (VERB + INFN + –ø—Ä–∏—á–∞—Å—Ç–∏—è + –¥–µ–µ–ø—Ä–∏—á–∞—Å—Ç–∏—è)
- `participle` - –≤—Å–µ –ø—Ä–∏—á–∞—Å—Ç–∏—è (–ø–æ–ª–Ω—ã–µ + –∫—Ä–∞—Ç–∫–∏–µ)

**–ü—Ä–∏–º–µ—Ä—ã:**
```bash
# –¢–æ–ª—å–∫–æ —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ
curl -G "http://localhost:8081/api/words" \
  --data-urlencode "word=–¥–æ–º" \
  --data-urlencode "count=5" \
  --data-urlencode "pos_filter=noun"

# –¢–æ–ª—å–∫–æ –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ
curl -G "http://localhost:8081/api/words" \
  --data-urlencode "word=–∫—Ä–∞—Å–Ω—ã–π" \
  --data-urlencode "count=5" \
  --data-urlencode "pos_filter=adjective"
```

### –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∫ –Ω–∞—á–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º–µ (normalize)
–ü–∞—Ä–∞–º–µ—Ç—Ä `normalize=true` –ø—Ä–∏–≤–æ–¥–∏—Ç –≤—Å–µ —Å–ª–æ–≤–∞ –∫ –Ω–∞—á–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º–µ (–ª–µ–º–º–µ):
- –°—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ ‚Üí –∏–º–µ–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞
- –ü—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ ‚Üí –º—É–∂—Å–∫–æ–π —Ä–æ–¥, –∏–º–µ–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–∞–¥–µ–∂
- –ì–ª–∞–≥–æ–ª—ã ‚Üí –∏–Ω—Ñ–∏–Ω–∏—Ç–∏–≤

**–ü—Ä–∏–º–µ—Ä—ã:**
- –ë–µ–∑ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏: `["—Å—Ç—É–ª–∞", "–∫—Ä–µ—Å–ª–æ", "—Ç–∞–±—É—Ä–µ—Ç–∫—É", "—Å—Ç–æ–ª—É", "—Å—Ç–æ–ª", "—Å—Ç–æ–ª–∞"]`
- –° –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π: `["—Å—Ç—É–ª", "–∫—Ä–µ—Å–ª–æ", "—Ç–∞–±—É—Ä–µ—Ç–∫–∞", "—Å—Ç–æ–ª"]` (–¥—É–±–ª–∏–∫–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è)

```bash
# –ü–æ–ª—É—á–∏—Ç—å —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –≤ –Ω–∞—á–∞–ª—å–Ω–æ–π —Ñ–æ—Ä–º–µ
curl -G "http://localhost:8081/api/words" \
  --data-urlencode "word=—Å—Ç—É–ª" \
  --data-urlencode "count=10" \
  --data-urlencode "pos_filter=noun" \
  --data-urlencode "normalize=true"
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è –¥—É–±–ª–∏–∫–∞—Ç—ã, –≤–æ–∑–Ω–∏–∫–∞—é—â–∏–µ –ø–æ—Å–ª–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "—Å—Ç–æ–ª–∞" –∏ "—Å—Ç–æ–ª—É" ‚Üí "—Å—Ç–æ–ª")
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–≤ –≤ –æ—Ç–≤–µ—Ç–µ –≤—Å–µ–≥–¥–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∑–∞–ø—Ä–æ—à–µ–Ω–Ω–æ–º—É `count`
- –£–º–µ–Ω—å—à–∏—Ç–µ–ª—å–Ω–æ-–ª–∞—Å–∫–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–æ—Ä–º—ã (—Å—Ç—É–ª—å—á–∏–∫, —Å—Ç–æ–ª–∏–∫) —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª–æ–≤–∞—Ä–µ–π, –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫—Ä–æ—Å—Å–≤–æ—Ä–¥–æ–≤, –∏–ª–∏ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω—ã —Å–ª–æ–≤–∞ –≤ –∫–∞–Ω–æ–Ω–∏—á–µ—Å–∫–æ–π —Ñ–æ—Ä–º–µ.

### Stride (—à–∞–≥ –≤—ã–±–æ—Ä–∫–∏)
–ü–∞—Ä–∞–º–µ—Ç—Ä `stride` –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—Ä–∞—Ç—å —Å–ª–æ–≤–∞ —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º —à–∞–≥–æ–º –∏–∑ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –ø–æ –∫–æ—Å–∏–Ω—É—Å–Ω–æ–º—É —Å—Ö–æ–¥—Å—Ç–≤—É. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –æ–¥–Ω–æ–∫–æ—Ä–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤ –∏ –ø–æ–ª—É—á–∏—Ç—å –±–æ–ª–µ–µ —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.

**–ü—Ä–∏–º–µ—Ä—ã:**
- `stride=0` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é): –±–µ—Ä—É—Ç—Å—è —Å–ª–æ–≤–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (1-–µ, 2-–µ, 3-–µ...)
- `stride=1`: –±–µ—Ä—É—Ç—Å—è —Å–ª–æ–≤–∞ —á–µ—Ä–µ–∑ –æ–¥–Ω–æ (1-–µ, 3-–µ, 5-–µ...)
- `stride=2`: –±–µ—Ä—É—Ç—Å—è —Å–ª–æ–≤–∞ —á–µ—Ä–µ–∑ –¥–≤–∞ (1-–µ, 4-–µ, 7-–µ...)

### –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ—Ö–æ–∂–∏—Ö —Å–ª–æ–≤ (similarity_threshold)
–ü–∞—Ä–∞–º–µ—Ç—Ä `similarity_threshold` –∑–∞–¥–∞–µ—Ç –ø–æ—Ä–æ–≥ —Ç–µ–∫—Å—Ç–æ–≤–æ–π —Å—Ö–æ–∂–µ—Å—Ç–∏ —Å–ª–æ–≤ (–¥–æ–ª—è —Å–æ–≤–ø–∞–¥–∞—é—â–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤). –°–ª–æ–≤–∞, —Å—Ö–æ–∂–∏–µ –º–µ–∂–¥—É —Å–æ–±–æ–π –±–æ–ª–µ–µ —á–µ–º –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–æ—Ä–æ–≥, –±—É–¥—É—Ç –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω—ã.

**–ü—Ä–∏–º–µ—Ä—ã:**
- `similarity_threshold=0.0` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é): —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞
- `similarity_threshold=0.5`: –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞—é—Ç—Å—è —Å–ª–æ–≤–∞ —Å 50%+ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ–º —Å–∏–º–≤–æ–ª–æ–≤
- `similarity_threshold=0.7`: –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞—é—Ç—Å—è —Å–ª–æ–≤–∞ —Å 70%+ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ–º —Å–∏–º–≤–æ–ª–æ–≤

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:** 0.5-0.7 –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –æ–¥–Ω–æ–∫–æ—Ä–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤

### –†–µ–∂–∏–º —Å–ª—É—á–∞–π–Ω—ã—Ö —Å–ª–æ–≤ (random_mode)
–ü—Ä–∏ `random_mode=true` –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–µ —Å–ª–æ–≤–∞ –∏–∑ —Å–ª–æ–≤–∞—Ä—è Navec, –∏–≥–Ω–æ—Ä–∏—Ä—É—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫—É—é –±–ª–∏–∑–æ—Å—Ç—å.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:** –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª—É—á–∞–π–Ω—ã—Ö –≥–æ–ª–æ–≤–æ–ª–æ–º–æ–∫ –∏–ª–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π.

## –û–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π

### –ü–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ –±—É–∫–≤ (shuffle_letters)
–°–ª—É—á–∞–π–Ω–∞—è –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ –±—É–∫–≤ –≤ —Å–ª–æ–≤–∞—Ö —Å —É—á–µ—Ç–æ–º –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏.

**–ü—Ä–∏–º–µ—Ä:**
- –í—Ö–æ–¥: `–≥—Ä–æ–∑–∞`
- –í—ã—Ö–æ–¥: `–¥–∂–æ–¥—å`, `—Å–µ–Ω–≥`, `—É—Ç—á–∞`

### –ü—Ä–æ–ø—É—Å–∫ –±—É–∫–≤ (skip_letters)
–£–¥–∞–ª–µ–Ω–∏–µ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–ª—É—á–∞–π–Ω—ã—Ö –±—É–∫–≤. –ü—Ä–∏ `show_skipped=true` –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –±—É–∫–≤—ã –∑–∞–º–µ–Ω—è—é—Ç—Å—è –Ω–∞ `_`.

**–ü—Ä–∏–º–µ—Ä—ã:**
- `skip_letters=1, show_skipped=false`: `–¥–∂–¥—å`, `—Å–Ω–≥`, `—Ç—É—á`
- `skip_letters=1, show_skipped=true`: `–¥_–∂–¥—å`, `—Å–Ω_–≥`, `—Ç—É—á_`

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ (add_errors)
–ó–∞–º–µ–Ω–∞ —Å–ª—É—á–∞–π–Ω—ã—Ö –±—É–∫–≤ –Ω–∞ –ø–æ—Ö–æ–∂–∏–µ –∏–ª–∏ —Å–ª—É—á–∞–π–Ω—ã–µ –±—É–∫–≤—ã —Ç–æ–≥–æ –∂–µ —Ç–∏–ø–∞ (–≥–ª–∞—Å–Ω—ã–µ/—Å–æ–≥–ª–∞—Å–Ω—ã–µ).

**–ü—Ä–∏–º–µ—Ä:**
- –í—Ö–æ–¥: `–≥—Ä–æ–∑–∞`
- –í—ã—Ö–æ–¥: `–¥–∏–∂–¥—å`, `—Å–Ω–æ–≥`, `—Ç—É—á–∫`

### –§–∏–ª—å—Ç—Ä—ã

#### –¢–∏–ø –±—É–∫–≤ (letter_type)
- `all` - —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ –≤—Å–µ–º –±—É–∫–≤–∞–º
- `vowels` - —Ç–æ–ª—å–∫–æ –∫ –≥–ª–∞—Å–Ω—ã–º (–∞, –µ, —ë, –∏, –æ, —É, —ã, —ç, —é, —è)
- `consonants` - —Ç–æ–ª—å–∫–æ –∫ —Å–æ–≥–ª–∞—Å–Ω—ã–º

#### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π
- `preserve_first=true` - –ø–µ—Ä–≤–∞—è –±—É–∫–≤–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ –º–µ—Å—Ç–µ
- `preserve_last=true` - –ø–æ—Å–ª–µ–¥–Ω—è—è –±—É–∫–≤–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ –º–µ—Å—Ç–µ

## MCP Server Integration

Word Morph API –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ MCP (Model Context Protocol) —Å–µ—Ä–≤–µ—Ä –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Claude Desktop, n8n –∏ –¥—Ä—É–≥–∏–º–∏ MCP-–∫–ª–∏–µ–Ω—Ç–∞–º–∏.

### –û–±–∑–æ—Ä MCP —Å–µ—Ä–≤–µ—Ä–æ–≤

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–≤–∞ MCP —Å–µ—Ä–≤–µ—Ä–∞:
1. **stdio** (mcp_server.py) - –¥–ª—è Claude Desktop/Code —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤–≤–æ–¥/–≤—ã–≤–æ–¥
2. **HTTP** (mcp_server_http.py) - –¥–ª—è n8n –∏ –¥—Ä—É–≥–∏—Ö HTTP-–∫–ª–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ REST/SSE API

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ —á–µ—Ä–µ–∑ `docker-compose up` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å—Ç–∞—Ä—Ç—É—é—Ç:
- `word-morph-api` –Ω–∞ –ø–æ—Ä—Ç—É 8081 (–æ—Å–Ω–æ–≤–Ω–æ–π FastAPI —Å–µ—Ä–≤–∏—Å)
- `word-morph-mcp` –Ω–∞ –ø–æ—Ä—Ç—É 8082 (MCP HTTP —Å–µ—Ä–≤–µ—Ä –¥–ª—è n8n)

### –í–∞—Ä–∏–∞–Ω—Ç A: MCP –¥–ª—è Claude Desktop/Code (stdio)

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å Claude Desktop/Code —á–µ—Ä–µ–∑ stdio:

1. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Claude Desktop/Code:**

–î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é MCP (`~/.config/claude/claude_desktop_config.json` –∏–ª–∏ –∞–Ω–∞–ª–æ–≥):

```json
{
  "mcpServers": {
    "word-morph": {
      "command": "docker",
      "args": [
        "exec",
        "-i",
        "word-morph-mcp",
        "python",
        "mcp_server.py"
      ],
      "env": {}
    }
  }
}
```

2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Claude Desktop/Code**

### –í–∞—Ä–∏–∞–Ω—Ç B: MCP –¥–ª—è n8n (HTTP)

–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å n8n —á–µ—Ä–µ–∑ MCP Client tool:

1. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ MCP —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω:**
```bash
docker ps | grep word-morph-mcp
# –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä word-morph-mcp –Ω–∞ –ø–æ—Ä—Ç—É 8082
```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å:**
```bash
# –õ–æ–∫–∞–ª—å–Ω—ã–π –¥–æ—Å—Ç—É–ø
curl http://localhost:8082/health
# –û—Ç–≤–µ—Ç: {"status":"healthy","service":"word-morph-mcp-http"}

# –ò–ª–∏ —Å IP –∞–¥—Ä–µ—Å–∞ —Å–µ—Ä–≤–µ—Ä–∞
curl http://<YOUR_SERVER_IP>:8082/health
```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ n8n MCP Client tool:**

–í n8n —Å–æ–∑–¥–∞–π—Ç–µ —É–∑–µ–ª "MCP Client" —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

**HTTP Endpoints:**
- **Base URL (Endpoint):** `http://localhost:8082` (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ n8n) –∏–ª–∏ `http://<YOUR_SERVER_IP>:8082` (–¥–ª—è —É–¥–∞–ª–µ–Ω–Ω–æ–≥–æ)
- **List Tools:** `GET /tools`
- **Call Tool:** `POST /tools/call`

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –≤—ã–∑–æ–≤–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞:**
```json
{
  "name": "search_similar_words",
  "arguments": {
    "word": "—Å—Ç–æ–ª",
    "count": 5,
    "pos_filter": "noun"
  }
}
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π endpoint:**

–í—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä—è–º–æ–π endpoint `/search` –¥–ª—è –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤:

```bash
curl -X POST http://localhost:8082/search \
  -H "Content-Type: application/json" \
  -d '{
    "word": "–¥–æ–º",
    "count": 5,
    "pos_filter": "noun",
    "normalize": true
  }'
```

**–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ MCP HTTP —Å–µ—Ä–≤–µ—Ä–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ Swagger UI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- http://localhost:8082/docs

**–î–æ—Å—Ç—É–ø–Ω—ã–µ HTTP endpoints:**
- `POST /` - JSON-RPC 2.0 endpoint (–¥–ª—è n8n MCP Client)
  - –ú–µ—Ç–æ–¥: `initialize` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è MCP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
  - –ú–µ—Ç–æ–¥: `tools/list` - –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
  - –ú–µ—Ç–æ–¥: `tools/call` - –≤—ã–∑–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
- `GET /sse` - SSE endpoint –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (HTTP Streamable handshake)
- `POST /sse` - SSE endpoint –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ MCP —Å–æ–æ–±—â–µ–Ω–∏–π
- `GET /health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞
- `GET /tools` - —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (REST)
- `POST /tools/call` - –≤—ã–∑–æ–≤ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (REST)
- `POST /search` - —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫ —Å–ª–æ–≤ (direct API wrapper)
- `GET /docs` - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API (Swagger UI)

**–§–æ—Ä–º–∞—Ç JSON-RPC 2.0 –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è n8n:**

–°–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:
```bash
curl -X POST http://localhost:8082/ \
  -H "Content-Type: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "id": 1,
    "method": "tools/list",
    "params": {}
  }'
```

–í—ã–∑–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞:
```bash
curl -X POST http://localhost:8082/ \
  -H "Content-Type: application/json" \
  -d '{
    "jsonrpc": "2.0",
    "id": 2,
    "method": "tools/call",
    "params": {
      "name": "search_similar_words",
      "arguments": {
        "word": "—Å—Ç–æ–ª",
        "count": 5
      }
    }
  }'
```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: MCP —Å–µ—Ä–≤–µ—Ä –Ω–∞ —Ö–æ—Å—Ç-–º–∞—à–∏–Ω–µ

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å MCP —Å–µ—Ä–≤–µ—Ä –Ω–∞ —Ö–æ—Å—Ç-–º–∞—à–∏–Ω–µ (–Ω–µ –≤ Docker):

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ MCP –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
pip install -r requirements-mcp.txt
```

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Claude Desktop/Code:**
```json
{
  "mcpServers": {
    "word-morph": {
      "command": "python3",
      "args": ["/home/nvidia/word-morph/mcp_server.py"],
      "env": {
        "WORD_MORPH_API_URL": "http://localhost:8081"
      }
    }
  }
}
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ü—É—Ç—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–±—Å–æ–ª—é—Ç–Ω—ã–º

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ Claude –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `search_similar_words` —Å–æ –≤—Å–µ–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ API:

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ Claude:**
- "–ù–∞–π–¥–∏ 5 –ø–æ—Ö–æ–∂–∏—Ö —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–ª—è —Å–ª–æ–≤–∞ '–¥–æ–º'"
- "–ù–∞–π–¥–∏ –ø—Ä–∏–ª–∞–≥–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ—Ö–æ–∂–∏–µ –Ω–∞ '–∫—Ä–∞—Å–Ω—ã–π' –∏ –Ω–æ—Ä–º–∞–ª–∏–∑—É–π –∏—Ö"
- "–ù–∞–π–¥–∏ —Å–ª–æ–≤–∞ –ø–æ—Ö–æ–∂–∏–µ –Ω–∞ '–≥—Ä–æ–∑–∞' —Å –ø–µ—Ä–µ–º–µ—à–∞–Ω–Ω—ã–º–∏ –±—É–∫–≤–∞–º–∏"

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è MCP —Å–µ—Ä–≤–µ—Ä–æ–≤

**–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**

1. **–î–ª—è MCP —Å–µ—Ä–≤–µ—Ä–∞ (stdio –∏ HTTP):**
   - `WORD_MORPH_API_URL` - URL –æ—Å–Ω–æ–≤–Ω–æ–≥–æ API (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `http://localhost:8081`)
   - –í Docker Compose –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π URL: `http://word-morph:8080`

2. **–î–ª—è MCP HTTP —Å–µ—Ä–≤–µ—Ä–∞:**
   - `MCP_HTTP_PORT` - –ø–æ—Ä—Ç HTTP —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 8082)

**–î–ª—è Claude Desktop/Code (stdio) —Å —É–¥–∞–ª–µ–Ω–Ω—ã–º API:**
```json
{
  "mcpServers": {
    "word-morph": {
      "command": "docker",
      "args": ["exec", "-i", "word-morph-mcp", "python", "mcp_server.py"],
      "env": {
        "WORD_MORPH_API_URL": "http://192.168.144.105:8081"
      }
    }
  }
}
```

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤:**
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
PORT=9000          # –ü–æ—Ä—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ API
MCP_HTTP_PORT=9082 # –ü–æ—Ä—Ç MCP HTTP —Å–µ—Ä–≤–µ—Ä–∞
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
.
‚îú‚îÄ‚îÄ docker-compose.yml       # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (API + MCP)
‚îú‚îÄ‚îÄ Dockerfile              # Docker –æ–±—Ä–∞–∑ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ API
‚îú‚îÄ‚îÄ Dockerfile.mcp          # Docker –æ–±—Ä–∞–∑ –¥–ª—è MCP —Å–µ—Ä–≤–µ—Ä–∞
‚îú‚îÄ‚îÄ requirements.txt        # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è API
‚îú‚îÄ‚îÄ requirements-mcp.txt    # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è MCP —Å–µ—Ä–≤–µ—Ä–æ–≤
‚îú‚îÄ‚îÄ mcp_server.py           # MCP —Å–µ—Ä–≤–µ—Ä (stdio) –¥–ª—è Claude Desktop/Code
‚îú‚îÄ‚îÄ mcp_server_http.py      # MCP —Å–µ—Ä–≤–µ—Ä (HTTP/SSE) –¥–ª—è n8n –∏ –¥—Ä—É–≥–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ mcp_config.json         # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ MCP –¥–ª—è Claude Desktop
‚îú‚îÄ‚îÄ n8n_mcp_setup.md        # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ MCP –≤ n8n
‚îú‚îÄ‚îÄ CLAUDE.md               # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è Claude Code
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ main.py            # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–æ—Å–Ω–æ–≤–Ω–æ–π API)
‚îÇ   ‚îú‚îÄ‚îÄ embeddings.py      # –°–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç—ã —Å Navec —ç–º–±–µ–¥–¥–∏–Ω–≥–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ transformations.py # –õ–æ–≥–∏–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ utils.py           # –í–∞–ª–∏–¥–∞—Ü–∏—è, POS —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ technical_specification.md  # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îî‚îÄ‚îÄ README.md
```

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –±–µ–∑ Docker

1. –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate  # Windows
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
pip install -r requirements.txt
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä:
```bash
python -m uvicorn app.main:app --reload --port 8081
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ –¥–æ—Å—Ç—É–ø–Ω—ã –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:

- Swagger UI: http://localhost:8081/docs
- ReDoc: http://localhost:8081/redoc

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –†–∞–±–æ—Ç–∞ —Ç–æ–ª—å–∫–æ —Å —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–º–∏ —Å–ª–æ–≤–∞–º–∏
- –°–ª–æ–≤–∞—Ä—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω —Ä–∞–∑–º–µ—Ä–æ–º –º–æ–¥–µ–ª–∏ Navec (~500K —Å–ª–æ–≤)
- –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º (–Ω–µ –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω—ã)
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ `count`: 100
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Å–ª–æ–≤–∞ –¥–ª—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–π: 3 –±—É–∫–≤—ã

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

**–û—Å–Ω–æ–≤–Ω–æ–π API (word-morph-api):**
- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: –Ω–µ –±–æ–ª–µ–µ 500ms –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å `count <= 10`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ 100 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- Navec –º–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

**MCP HTTP —Å–µ—Ä–≤–µ—Ä (word-morph-mcp):**
- –ü—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É API
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ JSON-RPC 2.0 –∏ SSE (Server-Sent Events)
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ—Å—ã–ª–∫–µ –∑–∞–ø—Ä–æ—Å–æ–≤ (~10-50ms)

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è. –õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ Docker:

```bash
# –õ–æ–≥–∏ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ API
docker-compose logs -f word-morph

# –õ–æ–≥–∏ MCP HTTP —Å–µ—Ä–≤–µ—Ä–∞
docker-compose logs -f mcp-server

# –õ–æ–≥–∏ –æ–±–æ–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose logs -f
```

## –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã (API + MCP)
docker-compose down

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å —É–¥–∞–ª–µ–Ω–∏–µ–º volumes (–∫—ç—à–∞ Navec –º–æ–¥–µ–ª–∏)
docker-compose down -v
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT